<!DOCTYPE html>
<html>
<head>
  <script src="https://cdn.jsdelivr.net/npm/vega@5.21.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.20.0"></script>
</head>
<body>
  <h1>{{header}}</h1>
  <h3><a href="/">Return to index page</a></h3>
  <div id="vis"/>
  <div>{{description}}</div>
  <script>
    const spec = {
  "config": {"view": {"continuousWidth": 400, "continuousHeight": 300}},
  "layer": [
    {
      "mark": {"type": "line", "interpolate": "basis"},
      "encoding": {
        "color": {"field": "variable", "type": "nominal"},
        "x": {"field": "date", "type": "nominal"},
        "y": {
          "aggregate": "max",
          "field": "value",
          "title": "cases",
          "type": "quantitative"
        }
      },
      "transform": [
        {
          "fold": ["cumulative_cases", "cumulative_deaths"],
          "as": ["variable", "value"]
        }
      ]
    },
    {
      "mark": "point",
      "encoding": {
        "opacity": {"value": 0},
        "x": {"field": "date", "type": "nominal"}
      },
      "selection": {
        "selector027": {
          "type": "single",
          "nearest": true,
          "on": "mouseover",
          "fields": ["date"],
          "empty": "none"
        }
      }
    },
    {
      "mark": "point",
      "encoding": {
        "color": {"field": "variable", "type": "nominal"},
        "opacity": {
          "condition": {"value": 1, "selection": "selector027"},
          "value": 0
        },
        "x": {"field": "date", "type": "nominal"},
        "y": {
          "aggregate": "max",
          "field": "value",
          "title": "cases",
          "type": "quantitative"
        }
      },
      "transform": [
        {
          "fold": ["cumulative_cases", "cumulative_deaths"],
          "as": ["variable", "value"]
        }
      ]
    },
    {
      "mark": {"type": "rule", "color": "gray"},
      "encoding": {"x": {"field": "date", "type": "nominal"}},
      "transform": [{"filter": {"selection": "selector027"}}]
    },
    {
      "mark": {"type": "text", "align": "left", "dx": 5, "dy": -5},
      "encoding": {
        "color": {"field": "variable", "type": "nominal"},
        "text": {
          "condition": {
            "field": "cumulative_cases",
            "type": "quantitative",
            "selection": "selector027"
          },
          "value": " "
        },
        "x": {"field": "date", "type": "nominal"},
        "y": {
          "aggregate": "max",
          "field": "value",
          "title": "cases",
          "type": "quantitative"
        }
      },
      "transform": [
        {
          "fold": ["cumulative_cases", "cumulative_deaths"],
          "as": ["variable", "value"]
        }
      ]
    },
    {
      "mark": {"type": "text", "align": "left", "dx": 5, "dy": -5},
      "encoding": {
        "color": {"field": "variable", "type": "nominal"},
        "text": {
          "condition": {
            "field": "cumulative_cases",
            "type": "quantitative",
            "selection": "selector027"
          },
          "value": " "
        },
        "x": {"field": "date", "type": "nominal"},
        "y": {
          "aggregate": "max",
          "field": "value",
          "title": "cases",
          "type": "quantitative"
        }
      },
      "transform": [
        {
          "fold": ["cumulative_cases", "cumulative_deaths"],
          "as": ["variable", "value"]
        }
      ]
    }
  ],
  "data": {"name": "data-ae2132fd490d794b279d1e9bb191308f"},
  "height": 300,
  "width": 600,
  "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json",
  "datasets": {
    "data-ae2132fd490d794b279d1e9bb191308f": [
      {
        "year": 2020,
        "month": 2,
        "date": "2020-02-01",
        "cumulative_cases": 8,
        "cumulative_deaths": 0
      },
      {
        "year": 2020,
        "month": 3,
        "date": "2020-03-01",
        "cumulative_cases": 88,
        "cumulative_deaths": 3
      },
      {
        "year": 2020,
        "month": 4,
        "date": "2020-04-01",
        "cumulative_cases": 215391,
        "cumulative_deaths": 5325
      },
      {
        "year": 2020,
        "month": 5,
        "date": "2020-05-01",
        "cumulative_cases": 1109726,
        "cumulative_deaths": 64902
      },
      {
        "year": 2020,
        "month": 6,
        "date": "2020-06-01",
        "cumulative_cases": 1821199,
        "cumulative_deaths": 105113
      },
      {
        "year": 2020,
        "month": 7,
        "date": "2020-07-01",
        "cumulative_cases": 2703296,
        "cumulative_deaths": 128104
      },
      {
        "year": 2020,
        "month": 8,
        "date": "2020-08-01",
        "cumulative_cases": 4628497,
        "cumulative_deaths": 154917
      },
      {
        "year": 2020,
        "month": 9,
        "date": "2020-09-01",
        "cumulative_cases": 6089506,
        "cumulative_deaths": 184563
      },
      {
        "year": 2020,
        "month": 10,
        "date": "2020-10-01",
        "cumulative_cases": 7309153,
        "cumulative_deaths": 207699
      },
      {
        "year": 2020,
        "month": 11,
        "date": "2020-11-01",
        "cumulative_cases": 9283202,
        "cumulative_deaths": 230940
      },
      {
        "year": 2020,
        "month": 12,
        "date": "2020-12-01",
        "cumulative_cases": 13799549,
        "cumulative_deaths": 270639
      },
      {
        "year": 2021,
        "month": 1,
        "date": "2021-01-01",
        "cumulative_cases": 20172049,
        "cumulative_deaths": 347970
      },
      {
        "year": 2021,
        "month": 2,
        "date": "2021-02-01",
        "cumulative_cases": 26363284,
        "cumulative_deaths": 443249
      },
      {
        "year": 2021,
        "month": 3,
        "date": "2021-03-01",
        "cumulative_cases": 28680857,
        "cumulative_deaths": 514404
      },
      {
        "year": 2021,
        "month": 4,
        "date": "2021-04-01",
        "cumulative_cases": 30556079,
        "cumulative_deaths": 552615
      },
      {
        "year": 2021,
        "month": 5,
        "date": "2021-05-01",
        "cumulative_cases": 32407133,
        "cumulative_deaths": 576352
      },
      {
        "year": 2021,
        "month": 6,
        "date": "2021-06-01",
        "cumulative_cases": 33300482,
        "cumulative_deaths": 594827
      },
      {
        "year": 2021,
        "month": 7,
        "date": "2021-07-01",
        "cumulative_cases": 33704723,
        "cumulative_deaths": 604693
      },
      {
        "year": 2021,
        "month": 8,
        "date": "2021-08-01",
        "cumulative_cases": 35041458,
        "cumulative_deaths": 612982
      },
      {
        "year": 2021,
        "month": 9,
        "date": "2021-09-01",
        "cumulative_cases": 39527624,
        "cumulative_deaths": 642454
      },
      {
        "year": 2021,
        "month": 10,
        "date": "2021-10-01",
        "cumulative_cases": 43583808,
        "cumulative_deaths": 700429
      },
      {
        "year": 2021,
        "month": 11,
        "date": "2021-11-01",
        "cumulative_cases": 46058665,
        "cumulative_deaths": 746688
      }
    ]
  }
};
    vegaEmbed("#vis", spec, {mode: "vega-lite"}).then(console.log).catch(console.warn);
  </script>
</body>
</html>